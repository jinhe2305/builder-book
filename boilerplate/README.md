## Boilerplate
Boilerplate with React, Material-UI, Next, Express, Mongoose, MongoDB.


## Contents
- [Run locally](#run-locally)
- [Deploy](#deploy)
- [Built with](#built-with)
  - [Core stack](#core-stack)
  - [Third party APIs](#third-party-apis)
- [Project structure](#project-structure)


## Run locally
- Clone the project and run `yarn` to add packages.
- Before you start the app, create a `.env` file at the app's root. This file must have values for env variables specified below.
  - To get `MONGO_URL_TEST`, we recommend a [free MongoDB at mLab](http://docs.mlab.com/).
  - Get `Google_clientID` and `Google_clientSecret` by following [official OAuth tutorial](https://developers.google.com/identity/sign-in/web/sign-in#before_you_begin).

    Important: For Google OAuth app, callback URL is: http://localhost:8000/oauth2callback
    
    Important: You have to enable Google+ API in your Google Cloud Platform account.

  - Specify your own secret key for Express session `SESSION_SECRET`: https://github.com/expressjs/session#secret.

  `.env` :
  ```
  MONGO_URL_TEST="XXXXXX"

  Google_clientID="XXXXXX"
  Google_clientSecret="XXXXXX"

  SESSION_SECRET="XXXXXX"
  ```
  
- Start the app with `yarn dev`.
- The _first registered user_ in the app becomes an Admin user (`"isAdmin": true`).


## Deploy
See the [deploy section](https://github.com/builderbook/builderbook#deploy) on our main repository README.


## Built with

#### Core stack
- [React](https://github.com/facebook/react)
- [Material-UI](https://github.com/mui-org/material-ui)
- [Next](https://github.com/zeit/next.js)
- [Express](https://github.com/expressjs/express)
- [Mongoose](https://github.com/Automattic/mongoose)
- [MongoDB](https://github.com/mongodb/mongo)

#### Third party APIs
- Google OAuth

Check out [package.json](https://github.com/builderbook/builderbook/blob/master/boilerplate/package.json).


## Project structure

```
.
├── components                  # React components
│   ├── Header.js               # Header component
│   ├── MenuDrop.js             # Dropdown menu
│   ├── SharedStyles.js         # List of _reusable_ styles
├── lib                         # Code available on both client and server
│   ├── context.js              # Context for Material-UI integration
│   ├── withAuth.js             # HOC that passes user to pages and more
│   ├── withLayout.js           # HOC for SSR with Material-UI and more
├── pages                       # Pages
│   ├── login.js                # Login page
│   ├── _document.js            # Main Document for Next.js pages
│   ├── index.js                # Dashboard page
├── server                      # Server code
│   ├── models                  # Mongoose models
│   │   ├── User.js             # User model
│   ├── app.js                  # Custom Express/Next server
│   ├── google.js               # Google OAuth API
├── static                      # Static resources
├── .babelrc                    # Config for Babel
├── .eslintrc.js                # Config for Eslint
├── .gitignore                  # List of ignored files and directories
├── package.json                # List of packages and scripts
├── yarn.lock                   # Exact versions of packages. Generated by yarn.

```
